<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Details Form</title>
</head>

<body>
    <h1>User Details Form</h1>
    <form id="userDetailsForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="age">Age:</label>
        <input type="number" id="age" name="age" required><br><br>

        <label for="address">Address:</label>
        <textarea id="address" name="address" required></textarea><br><br>

        <label for="state">State:</label>
        <select id="state" name="state"></select><br><br>

        <input type="submit" value="Submit">
    </form>

    <h2>Entered Details:</h2>
    <div id="displayDetails">Ekhane Data Dakhabe.</div>

    <script>
        document.getElementById('userDetailsForm').addEventListener('submit', function (event) {

            event.preventDefault(); // submit button er default behaviour page refresh kora. 

            // Get form values
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const age = document.getElementById('age').value;
            const address = document.getElementById('address').value;

            // Get the selected state from the dropdown
            const stateSelect = document.getElementById('state');
            //const stateId = stateSelect.value;
            const stateId = stateSelect.options[stateSelect.selectedIndex].value;
            const stateName = stateSelect.options[stateSelect.selectedIndex].text;

            // Display entered details on the page
            const displayDetails = document.getElementById('displayDetails');
            displayDetails.innerHTML = `
                <p><strong>Name:</strong> ${name}</p>
                <p><strong>Email:</strong> ${email}</p>
                <p><strong>Age:</strong> ${age}</p>
                <p><strong>Address:</strong> ${address}</p>
                <p><strong>State:</strong> ${stateName} (ID: ${stateId})</p>
            `;

            // Clear the form
            document.getElementById('userDetailsForm').reset();
        });

        let stateList = [
            {
                "id": "a",
                "name": "West Bengal"
            },
            {
                "id": "b",
                "name": "Delhi"
            },
            {
                "id": "c",
                "name": "Maharashtra"
            },
            {
                "id": "d",
                "name": "Telangana"
            },
            {
                "id": "e",
                "name": "Raipur"
            },
            {
                "id": "f",
                "name": "Rajasthan"
            }
        ];

        // Populate the dropdown with options from stateList
        const stateSelect = document.getElementById('state');
        var html = '';
        stateList.forEach(state => {
            // const option = document.createElement('option');
            // option.value = state.id;
            // option.text = state.name;
            // stateSelect.append(option);


            // html += '<option value="' + state.id + '">' + state.name + '</option>';

            html += `<option value="${state.id}"> ${state.name} </option>`;
        });
        stateSelect.innerHTML = html;
        //;
    </script>
</body>

</html>